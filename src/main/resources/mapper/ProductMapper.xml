<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zt.thread.dao.ProductMapper">

    <select id="selectBySku" resultType="com.zt.thread.entity.Product">
        SELECT
            STATUS,
            COSTPRICE,
            WEIGHT,
            STORAGE_NAME,
            INVENTORY,
            LOCATION_NAME
        FROM
            R_PRO_PRODUCT
        WHERE
            SKU = #{sku}
    </select>

    <select id="selectBindBySku" resultType="com.zt.thread.entity.Product">
        SELECT
            NVL(STATUS,0) AS STATUS
            , WEIGHT AS WEIGHT
            , COSPRICE AS COSTPRICE
        FROM
            R_PRO_PROBIND
        WHERE
            BINDID = #{sku}
    </select>

    <select id="selectMergeBySku" resultType="com.zt.thread.entity.Product">
        SELECT
            STATUS,
            COSTPRICE,
            WEIGHT,
            STORAGE_NAME,
            INVENTORY,
            LOCATION_NAME
        FROM
            R_PRO_PRODUCT
        WHERE
            SKU = (
                SELECT SKU
                FROM R_MAP_PRO_LESSER
                WHERE LESSERSKU= #{sku}
            )
    </select>


</mapper>